{"version":3,"file":"Highlight.js","sources":["../../src/Highlight/Highlight.tsx"],"sourcesContent":["import React from 'react';\nimport { DefaultProps, useMantineTheme, getThemeColor } from '@mantine/theme';\nimport { ComponentPassThrough } from '@mantine/types';\nimport { Text, TextProps } from '../Text/Text';\n\nexport function highlighter(value: string, highlightPart: string) {\n  const normalizedValue = value.trim().toLowerCase();\n  const normalizedHighlight = highlightPart.trim().toLowerCase();\n  const diff = highlightPart.length - normalizedHighlight.length;\n  const highlightLength = highlightPart.length - diff;\n\n  const highlightIndex = normalizedValue.indexOf(normalizedHighlight);\n  if (highlightIndex === -1) {\n    return { start: value, highlighted: '', end: '' };\n  }\n\n  const start = value.slice(0, highlightIndex);\n  const highlighted = value.slice(highlightIndex, highlightIndex + highlightLength);\n  const end = value.slice(highlightIndex + highlightLength);\n\n  return { start, highlighted, end };\n}\n\nexport interface HighlightProps extends DefaultProps, Omit<TextProps, 'children'> {\n  /** String part to highligh in children */\n  highlight: string;\n\n  /** Color from theme that is used for highlighting */\n  highlightColor?: string;\n\n  /** Full string part of which will be highlighted */\n  children: string;\n}\n\nexport function Highlight<T extends React.ElementType = 'div'>({\n  children,\n  highlight,\n  component,\n  themeOverride,\n  highlightColor = 'yellow',\n  ...others\n}: ComponentPassThrough<T, HighlightProps>) {\n  const theme = useMantineTheme(themeOverride);\n  const color = getThemeColor({\n    theme,\n    color: highlightColor,\n    shade: 2,\n  });\n\n  const { start, end, highlighted } = highlighter(children, highlight);\n\n  return (\n    <Text component={component} themeOverride={themeOverride} {...others}>\n      {!!start && start}\n      {!!highlighted && (\n        <mark\n          style={{\n            backgroundColor: color,\n            color: theme.colorScheme === 'dark' ? theme.colors.dark[9] : 'inherit',\n          }}\n        >\n          {highlighted}\n        </mark>\n      )}\n      {!!end && end}\n    </Text>\n  );\n}\n\nHighlight.displayName = '@mantine/core/Highlight';\n"],"names":["theme","useMantineTheme","getThemeColor","Text"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qBAK4B,OAAe,eAAuB;AAChE,QAAM,kBAAkB,MAAM,OAAO;AACrC,QAAM,sBAAsB,cAAc,OAAO;AACjD,QAAM,OAAO,cAAc,SAAS,oBAAoB;AACxD,QAAM,kBAAkB,cAAc,SAAS;AAE/C,QAAM,iBAAiB,gBAAgB,QAAQ;AAC/C,MAAI,mBAAmB,IAAI;AACzB,WAAO,CAAE,OAAO,OAAO,aAAa,IAAI,KAAK;AAAA;AAG/C,QAAM,QAAQ,MAAM,MAAM,GAAG;AAC7B,QAAM,cAAc,MAAM,MAAM,gBAAgB,iBAAiB;AACjE,QAAM,MAAM,MAAM,MAAM,iBAAiB;AAEzC,SAAO,CAAE,OAAO,aAAa;AAAA;mBAcgC,IAOnB;AAPmB,eAC7D;AAAA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,iBAAiB;AAAA,MAL4C,IAM1D,mBAN0D,IAM1D;AAAA,IALH;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAGA,QAAMA,UAAQC,sBAAgB;AAC9B,QAAM,QAAQC,oBAAc;AAAA,WAC1BF;AAAA,IACA,OAAO;AAAA,IACP,OAAO;AAAA;AAGT,QAAM,CAAE,OAAO,KAAK,eAAgB,YAAY,UAAU;AAE1D,iEACGG,WAAD;AAAA,IAAM;AAAA,IAAsB;AAAA,KAAkC,SAC3D,CAAC,CAAC,SAAS,OACX,CAAC,CAAC,uEACA,QAAD;AAAA,IACE,OAAO;AAAA,MACL,iBAAiB;AAAA,MACjB,OAAOH,QAAM,gBAAgB,SAASA,QAAM,OAAO,KAAK,KAAK;AAAA;AAAA,KAG9D,cAGJ,CAAC,CAAC,OAAO;AAAA;AAKhB,UAAU,cAAc;;;;;"}