{"version":3,"file":"use-queue.js","sources":["../../src/use-queue/use-queue.ts"],"sourcesContent":["import { useState } from 'react';\n\nexport function useQueue<T>({ initialValues = [], limit }: { initialValues?: T[]; limit: number }) {\n  const [{ state, queue }, setState] = useState({\n    state: initialValues.slice(0, limit),\n    queue: initialValues.slice(limit),\n  });\n\n  const add = (...items: T[]) =>\n    setState((current) => {\n      const results = [...current.state, ...current.queue, ...items];\n\n      return {\n        state: results.slice(0, limit),\n        queue: results.slice(limit),\n      };\n    });\n\n  const update = (fn: (state: T[]) => T[]) =>\n    setState((current) => {\n      const results = fn([...current.state, ...current.queue]);\n\n      return {\n        state: results.slice(0, limit),\n        queue: results.slice(limit),\n      };\n    });\n\n  const cleanQueue = () => setState((current) => ({ state: current.state, queue: [] }));\n\n  return {\n    state,\n    queue,\n    add,\n    update,\n    cleanQueue,\n  };\n}\n"],"names":[],"mappings":";;kBAE4B,CAAE,gBAAgB,IAAI,QAAiD;AACjG,QAAM,CAAC,CAAE,OAAO,QAAS,YAAY,SAAS;AAAA,IAC5C,OAAO,cAAc,MAAM,GAAG;AAAA,IAC9B,OAAO,cAAc,MAAM;AAAA;AAG7B,QAAM,MAAM,IAAI,UACd,SAAS,CAAC,YAAY;AACpB,UAAM,UAAU,CAAC,GAAG,QAAQ,OAAO,GAAG,QAAQ,OAAO,GAAG;AAExD,WAAO;AAAA,MACL,OAAO,QAAQ,MAAM,GAAG;AAAA,MACxB,OAAO,QAAQ,MAAM;AAAA;AAAA;AAI3B,QAAM,SAAS,CAAC,OACd,SAAS,CAAC,YAAY;AACpB,UAAM,UAAU,GAAG,CAAC,GAAG,QAAQ,OAAO,GAAG,QAAQ;AAEjD,WAAO;AAAA,MACL,OAAO,QAAQ,MAAM,GAAG;AAAA,MACxB,OAAO,QAAQ,MAAM;AAAA;AAAA;AAI3B,QAAM,aAAa,MAAM,SAAS,CAAC,cAAe,OAAO,QAAQ,OAAO,OAAO;AAE/E,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA;;;;"}