{"version":3,"file":"index.umd.js","sources":["../src/use-click-outside/use-click-outside.ts","../src/use-clipboard/use-clipboard.ts","../src/use-media-query/use-media-query.ts","../src/use-color-scheme/use-color-scheme.ts","../src/use-debounced-value/use-debounced-value.ts","../src/use-document-title/use-document-title.ts","../src/use-focus-trap/tabbable.ts","../src/use-focus-trap/focus-manager.ts","../src/use-focus-trap/scope-tab.ts","../src/use-focus-trap/create-aria-hider.ts","../src/use-focus-trap/use-focus-trap.ts","../src/use-form/use-form.ts","../../mantine-utils/esm/random-id/random-id.js","../src/use-id/use-id.ts","../src/use-isomorphic-effect/use-isomorphic-effect.ts","../src/use-list-state/use-list-state.ts","../src/use-window-event/use-window-event.ts","../src/use-local-storage-value/use-local-storage-value.ts","../src/use-merged-ref/use-merged-ref.ts","../src/use-queue/use-queue.ts","../src/use-reduced-motion/use-reduced-motion.ts","../src/use-scroll-lock/use-scroll-lock.ts"],"sourcesContent":["import { useEffect, useRef } from 'react';\n\nexport function useClickOutside<T extends HTMLElement = any>(\n  handler: () => void,\n  events = ['mousedown', 'touchstart']\n) {\n  const ref = useRef<T>();\n\n  useEffect(() => {\n    const listener = (event: any) => {\n      if (ref.current && !ref.current.contains(event.target)) {\n        handler();\n      }\n    };\n\n    events.forEach((fn) => document.addEventListener(fn, listener));\n\n    return () => {\n      events.forEach((fn) => document.removeEventListener(fn, listener));\n    };\n  }, [ref, handler]);\n\n  return ref;\n}\n","import { useState } from 'react';\n\nexport function useClipboard({ timeout = 2000 } = {}) {\n  const [error, setError] = useState<Error>(null);\n  const [copied, setCopied] = useState(false);\n  const [copyTimeout, setCopyTimeout] = useState(null);\n\n  const handleCopyResult = (value: boolean) => {\n    clearTimeout(copyTimeout);\n    setCopyTimeout(setTimeout(() => setCopied(false), timeout));\n    setCopied(value);\n  };\n\n  const copy = (valueToCopy: any) => {\n    if ('clipboard' in navigator) {\n      navigator.clipboard\n        .writeText(valueToCopy)\n        .then(() => handleCopyResult(true))\n        .catch((err) => setError(err));\n    } else {\n      setError(new Error('useClipboard: navigator.clipboard is not supported'));\n    }\n  };\n\n  const reset = () => {\n    setCopied(false);\n    setError(null);\n    clearTimeout(copyTimeout);\n  };\n\n  return { copy, reset, error, copied };\n}\n","import { useState, useEffect, useRef } from 'react';\n\ntype MediaQueryCallback = (event: { matches: boolean; media: string }) => void;\n\n/**\n * Older versions of Safari (shipped withCatalina and before) do not support addEventListener on matchMedia\n * https://stackoverflow.com/questions/56466261/matchmedia-addlistener-marked-as-deprecated-addeventlistener-equivalent\n * */\nfunction attachMediaListener(query: MediaQueryList, callback: MediaQueryCallback) {\n  try {\n    query.addEventListener('change', callback);\n    return () => query.removeEventListener('change', callback);\n  } catch (e) {\n    query.addListener(callback);\n    return () => query.removeListener(callback);\n  }\n}\n\nfunction getInitialValue(query: string) {\n  if (typeof window !== 'undefined' && 'matchMedia' in window) {\n    return window.matchMedia(query).matches;\n  }\n  return false;\n}\n\nexport function useMediaQuery(query: string) {\n  const [matches, setMatches] = useState(getInitialValue(query));\n  const queryRef = useRef<MediaQueryList>();\n\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    if ('matchMedia' in window) {\n      queryRef.current = window.matchMedia(query);\n      setMatches(queryRef.current.matches);\n      return attachMediaListener(queryRef.current, (event) => setMatches(event.matches));\n    }\n  }, [query]);\n\n  return matches;\n}\n","import { useMediaQuery } from '../use-media-query/use-media-query';\n\nexport function useColorScheme() {\n  return useMediaQuery('(prefers-color-scheme: dark)') ? 'dark' : 'light';\n}\n","import { useEffect, useState, useRef } from 'react';\n\nexport function useDebouncedValue<T = any>(value: T, wait: number, options = { leading: false }) {\n  const [_value, setValue] = useState(value);\n  const mountedRef = useRef(false);\n  const timeoutRef = useRef<number>(null);\n  const cooldownRef = useRef(false);\n\n  const cancel = () => window.clearTimeout(timeoutRef.current);\n\n  useEffect(() => {\n    if (mountedRef.current) {\n      if (!cooldownRef.current && options.leading) {\n        cooldownRef.current = true;\n        setValue(value);\n      } else {\n        cancel();\n        timeoutRef.current = window.setTimeout(() => {\n          cooldownRef.current = false;\n          setValue(value);\n        }, wait);\n      }\n    }\n  }, [value, options.leading]);\n\n  useEffect(() => {\n    mountedRef.current = true;\n    return cancel;\n  }, []);\n\n  return [_value, cancel] as const;\n}\n","import { useLayoutEffect } from 'react';\n\nexport function useDocumentTitle(title: string) {\n  useLayoutEffect(() => {\n    if (typeof title === 'string' && title.trim().length > 0) {\n      document.title = title.trim();\n    }\n  }, [title]);\n}\n","const TABBABLE_NODES = /input|select|textarea|button|object/;\nexport const FOCUS_SELECTOR = 'a, input, select, textarea, button, object, [tabindex]';\n\nfunction hidden(element: HTMLElement) {\n  if (process.env.NODE_ENV === 'test') {\n    return false;\n  }\n\n  return (\n    (element.offsetWidth <= 0 && element.offsetHeight <= 0) || element.style.display === 'none'\n  );\n}\n\nfunction visible(element: HTMLElement) {\n  let parentElement: HTMLElement = element;\n  while (parentElement) {\n    if (parentElement === document.body) {\n      break;\n    }\n\n    if (hidden(parentElement)) {\n      return false;\n    }\n\n    parentElement = parentElement.parentNode as HTMLElement;\n  }\n\n  return true;\n}\n\nfunction getElementTabIndex(element: HTMLElement) {\n  let tabIndex = element.getAttribute('tabindex');\n  if (tabIndex === null) {\n    tabIndex = undefined;\n  }\n  return parseInt(tabIndex, 10);\n}\n\nexport function focusable(element: HTMLElement) {\n  const nodeName = element.nodeName.toLowerCase();\n  const isTabIndexNotNaN = !Number.isNaN(getElementTabIndex(element));\n  const res =\n    // @ts-ignore\n    (TABBABLE_NODES.test(nodeName) && !element.disabled) ||\n    (element instanceof HTMLAnchorElement ? element.href || isTabIndexNotNaN : isTabIndexNotNaN);\n\n  return res && visible(element);\n}\n\nexport function tabbable(element: HTMLElement) {\n  const tabIndex = getElementTabIndex(element);\n  const isTabIndexNaN = Number.isNaN(tabIndex);\n  return (isTabIndexNaN || tabIndex >= 0) && focusable(element);\n}\n\nexport function findTabbableDescendants(element: HTMLElement): HTMLElement[] {\n  return Array.from(element.querySelectorAll<HTMLElement>(FOCUS_SELECTOR)).filter(tabbable);\n}\n","import { findTabbableDescendants } from './tabbable';\n\nconst focusLaterElements: HTMLElement[] = [];\nlet focusElement: HTMLElement = null;\nlet needToFocus = false;\n\nfunction handleBlur() {\n  needToFocus = true;\n}\n\nfunction handleFocus() {\n  if (needToFocus) {\n    needToFocus = false;\n\n    if (!focusElement) {\n      return;\n    }\n\n    if (!focusElement) {\n      return;\n    }\n\n    if (focusElement.contains(document.activeElement)) {\n      return;\n    }\n\n    const el = findTabbableDescendants(focusElement)[0] || focusElement;\n    el.focus();\n  }\n}\n\nexport function markForFocusLater() {\n  focusLaterElements.push(document.activeElement as HTMLElement);\n}\n\nexport function returnFocus() {\n  let toFocus = null;\n  try {\n    toFocus = focusLaterElements.pop();\n    if (toFocus) toFocus.focus();\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.warn(\n      [\n        '[@mantine/hooks/use-focus-trap] Focus was returned to',\n        toFocus,\n        'but dom node does not exist',\n      ].join(' ')\n    );\n  }\n}\n\nexport function setupScopedFocus(element: HTMLElement) {\n  focusElement = element;\n  document.addEventListener('focusout', handleBlur, false);\n  document.addEventListener('focusin', handleFocus, true);\n}\n\nexport function teardownScopedFocus() {\n  focusElement = null;\n  document.removeEventListener('focusout', handleBlur);\n  document.removeEventListener('focusin', handleFocus);\n}\n","import { findTabbableDescendants } from './tabbable';\n\nexport function scopeTab(node: HTMLElement, event: KeyboardEvent) {\n  const tabbable = findTabbableDescendants(node);\n  if (!tabbable.length) {\n    event.preventDefault();\n    return;\n  }\n  const finalTabbable = tabbable[event.shiftKey ? 0 : tabbable.length - 1];\n  const leavingFinalTabbable =\n    finalTabbable === document.activeElement || node === document.activeElement;\n\n  if (!leavingFinalTabbable) {\n    return;\n  }\n\n  event.preventDefault();\n\n  const target = tabbable[event.shiftKey ? tabbable.length - 1 : 0];\n\n  if (target) {\n    target.focus();\n  }\n}\n","type Value = {\n  node: HTMLElement;\n  ariaHidden: string;\n};\n\nexport function createAriaHider(\n  containerNode: HTMLElement,\n  selector: string = 'body > :not(script)'\n) {\n  const rootNodes: Value[] = Array.from<HTMLElement>(document.querySelectorAll(selector)).map(\n    (node) => {\n      if (node.contains(containerNode)) {\n        return undefined;\n      }\n\n      const ariaHidden = node.getAttribute('aria-hidden');\n\n      if (ariaHidden === null || ariaHidden === 'false') {\n        node.setAttribute('aria-hidden', 'true');\n      }\n\n      return { node, ariaHidden };\n    }\n  );\n\n  return () => {\n    rootNodes.forEach((item) => {\n      if (!item) {\n        return;\n      }\n\n      if (item.ariaHidden === null) {\n        item.node.removeAttribute('aria-hidden');\n      } else {\n        item.node.setAttribute('aria-hidden', item.ariaHidden);\n      }\n    });\n  };\n}\n","import { useCallback, useEffect, useRef } from 'react';\nimport {\n  markForFocusLater,\n  returnFocus,\n  setupScopedFocus,\n  teardownScopedFocus,\n} from './focus-manager';\nimport { FOCUS_SELECTOR, focusable, tabbable } from './tabbable';\nimport { scopeTab } from './scope-tab';\nimport { createAriaHider } from './create-aria-hider';\n\nexport function useFocusTrap(active = true): (instance: HTMLElement) => void {\n  const ref = useRef<HTMLElement | null>();\n  const restoreAria = useRef<Function | null>(null);\n\n  const setRef = useCallback(\n    (node: HTMLElement | null) => {\n      if (restoreAria.current) {\n        restoreAria.current();\n      }\n      if (ref.current) {\n        returnFocus();\n        teardownScopedFocus();\n      }\n      if (active && node) {\n        setupScopedFocus(node);\n        markForFocusLater();\n\n        const processNode = (_node: HTMLElement) => {\n          restoreAria.current = createAriaHider(_node);\n\n          let focusElement: HTMLElement | null = null;\n\n          if (!focusElement) {\n            const children = Array.from<HTMLElement>(node.querySelectorAll(FOCUS_SELECTOR));\n            focusElement = children.find(tabbable) || children.find(focusable) || null;\n            if (!focusElement && focusable(node)) focusElement = node;\n          }\n\n          if (focusElement) {\n            focusElement.focus();\n          } else if (process.env.NODE_ENV === 'development') {\n            // eslint-disable-next-line no-console\n            console.warn(\n              '[@mantine/hooks/use-focus-trap] Failed to find focusable element within provided node',\n              node\n            );\n          }\n        };\n\n        // Delay processing the HTML node by a frame. This ensures focus is assigned correctly.\n        setTimeout(() => {\n          if (node.ownerDocument) {\n            processNode(node);\n          } else if (process.env.NODE_ENV === 'development') {\n            // eslint-disable-next-line no-console\n            console.warn('[@mantine/hooks/use-focus-trap] Ref node is not part of the dom', node);\n          }\n        });\n\n        ref.current = node;\n      } else {\n        ref.current = null;\n      }\n    },\n    [active]\n  );\n\n  useEffect(() => {\n    if (!active) return undefined;\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === 'Tab' && ref.current) {\n        scopeTab(ref.current, event);\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [active]);\n\n  return setRef;\n}\n","import React, { useState } from 'react';\n\nexport type ValidationRule<T> = {\n  readonly [P in keyof T]?: (value: T[P]) => boolean;\n};\n\nexport interface UseForm<T> {\n  validationRules?: ValidationRule<T>;\n  initialValues: T;\n}\n\nexport function useForm<T extends { [key: string]: any }>({\n  initialValues,\n  validationRules = {},\n}: UseForm<T>) {\n  type ValidationErrors = Record<keyof T, boolean>;\n\n  const initialErrors = Object.keys(initialValues).reduce((acc, field) => {\n    acc[field as keyof T] = false;\n    return acc;\n  }, {} as ValidationErrors);\n\n  const [errors, setErrors] = useState(initialErrors);\n  const [values, setValues] = useState(initialValues);\n\n  const resetErrors = () => setErrors(initialErrors);\n\n  const reset = () => {\n    setValues(initialValues);\n    resetErrors();\n  };\n\n  const validate = () => {\n    let isValid = true;\n\n    const validationErrors = Object.keys(values).reduce((acc, field) => {\n      if (\n        validationRules &&\n        typeof validationRules[field] === 'function' &&\n        !validationRules[field](values[field])\n      ) {\n        acc[field as keyof T] = true;\n        isValid = false;\n      } else {\n        acc[field as keyof T] = false;\n      }\n\n      return acc;\n    }, {} as ValidationErrors);\n\n    setErrors(validationErrors);\n    return isValid;\n  };\n\n  const validateField = (field: keyof T) =>\n    setErrors((currentErrors) => ({\n      ...currentErrors,\n      [field]:\n        typeof validationRules[field] === 'function'\n          ? !validationRules[field](values[field])\n          : false,\n    }));\n\n  const setFieldError = (field: keyof T, error: boolean) =>\n    setErrors((currentErrors) => ({ ...currentErrors, [field]: error }));\n\n  const setFieldValue = <K extends keyof T, U extends T[K]>(field: K, value: U) => {\n    setValues((currentValues) => ({ ...currentValues, [field]: value }));\n    setFieldError(field, false);\n  };\n\n  const onSubmit = (handleSubmit: (values: T) => any) => (event?: React.FormEvent) => {\n    event && event.preventDefault();\n    validate() && handleSubmit(values);\n  };\n\n  return {\n    values,\n    errors,\n    validate,\n    reset,\n    setErrors,\n    setValues,\n    setFieldValue,\n    setFieldError,\n    validateField,\n    resetErrors,\n    onSubmit,\n  };\n}\n","function randomId() {\n  return `mantine-${Math.random().toString(36).substr(2, 9)}`;\n}\n\nexport { randomId };\n//# sourceMappingURL=random-id.js.map\n","import { useRef } from 'react';\nimport { randomId } from '@mantine/utils';\n\nexport function useId(id?: string, generateId: () => string = randomId) {\n  const generatedId = useRef(generateId());\n  return id || generatedId.current;\n}\n","import { useEffect, useLayoutEffect } from 'react';\n\n// useLayoutEffect will show warning if used during ssr, e.g. with Next.js\n// useIsomorphicEffect removes it by replacing useLayoutEffect with useEffect during ssr\nexport const useIsomorphicEffect = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\n","import { useState } from 'react';\n\nexport function useListState<T>(initialValue: T[] = []) {\n  const [state, setState] = useState(initialValue);\n\n  const append = (...items: T[]) => setState((current) => [...current, ...items]);\n  const prepend = (...items: T[]) => setState((current) => [...items, ...current]);\n\n  const insert = (index: number, ...items: T[]) =>\n    setState((current) => [...current.slice(0, index), ...items, ...current.slice(index)]);\n\n  const apply = (fn: (item: T, index?: number) => T) =>\n    setState((current) => current.map((item, index) => fn(item, index)));\n\n  const remove = (...indices: number[]) =>\n    setState((current) => current.filter((_, index) => !indices.includes(index)));\n\n  const reorder = ({ from, to }: { from: number; to: number }) =>\n    setState((current) => {\n      const cloned = [...current];\n      const item = current[from];\n\n      cloned.splice(from, 1);\n      cloned.splice(to, 0, item);\n\n      return cloned;\n    });\n\n  const setItem = (index: number, item: T) =>\n    setState((current) => {\n      const cloned = [...current];\n      cloned[index] = item;\n      return cloned;\n    });\n\n  const setItemProp = <K extends keyof T, U extends T[K]>(index: number, prop: K, value: U) =>\n    setState((current) => {\n      const cloned = [...current];\n      cloned[index] = { ...cloned[index], [prop]: value };\n      return cloned;\n    });\n\n  return [\n    state,\n    {\n      setState,\n      append,\n      prepend,\n      insert,\n      apply,\n      remove,\n      reorder,\n      setItem,\n      setItemProp,\n    },\n  ] as const;\n}\n","import { useEffect } from 'react';\n\nexport function useWindowEvent<K extends keyof WindowEventMap>(\n  type: K,\n  listener: (this: Window, ev: WindowEventMap[K]) => any,\n  options?: boolean | AddEventListenerOptions\n) {\n  useEffect(() => {\n    window.addEventListener(type, listener, options);\n    return () => window.removeEventListener(type, listener, options);\n  }, []);\n}\n","import { useState, useCallback, useEffect } from 'react';\nimport { useWindowEvent } from '../use-window-event/use-window-event';\n\nexport function useLocalStorageValue<T extends string>({\n  key,\n  defaultValue = undefined,\n}: {\n  key: string;\n  defaultValue?: T;\n}) {\n  const [value, setValue] = useState<T>(\n    typeof window !== 'undefined' && 'localStorage' in window\n      ? (window.localStorage.getItem(key) as T)\n      : ((defaultValue ?? '') as T)\n  );\n\n  const setLocalStorageValue = useCallback(\n    (val: T | ((prevState: T) => T)) => {\n      if (typeof val === 'function') {\n        setValue((current) => {\n          const result = val(current);\n          window.localStorage.setItem(key, result);\n          return result;\n        });\n      } else {\n        window.localStorage.setItem(key, val);\n        setValue(val);\n      }\n    },\n    [key]\n  );\n\n  useWindowEvent('storage', (event) => {\n    if (event.storageArea === window.localStorage && event.key === key) {\n      setValue(event.newValue as T);\n    }\n  });\n\n  useEffect(() => {\n    if (defaultValue && !value) {\n      setLocalStorageValue(defaultValue);\n    }\n  }, [defaultValue, value, setLocalStorageValue]);\n\n  return [value, setLocalStorageValue] as const;\n}\n","import React from 'react';\n\nexport function useMergedRef<T = any>(...refs: React.ForwardedRef<T>[]) {\n  return (node: T) => {\n    refs.forEach((ref) => {\n      if (typeof ref === 'function') {\n        ref(node);\n      } else if (ref != null) {\n        // eslint-disable-next-line no-param-reassign\n        ref.current = node;\n      }\n    });\n  };\n}\n","import { useState } from 'react';\n\nexport function useQueue<T>({ initialValues = [], limit }: { initialValues?: T[]; limit: number }) {\n  const [{ state, queue }, setState] = useState({\n    state: initialValues.slice(0, limit),\n    queue: initialValues.slice(limit),\n  });\n\n  const add = (...items: T[]) =>\n    setState((current) => {\n      const results = [...current.state, ...current.queue, ...items];\n\n      return {\n        state: results.slice(0, limit),\n        queue: results.slice(limit),\n      };\n    });\n\n  const update = (fn: (state: T[]) => T[]) =>\n    setState((current) => {\n      const results = fn([...current.state, ...current.queue]);\n\n      return {\n        state: results.slice(0, limit),\n        queue: results.slice(limit),\n      };\n    });\n\n  const cleanQueue = () => setState((current) => ({ state: current.state, queue: [] }));\n\n  return {\n    state,\n    queue,\n    add,\n    update,\n    cleanQueue,\n  };\n}\n","import { useMediaQuery } from '../use-media-query/use-media-query';\n\nexport function useReducedMotion() {\n  return useMediaQuery('(prefers-reduced-motion: reduce)');\n}\n","import { useEffect, useRef } from 'react';\n\n// touch devices do not support overflow: hidden on body element\n// instead we need to prevent default for touchmove event:\n// https://stackoverflow.com/a/49853392\nconst preventDefault = (event: TouchEvent) => {\n  event.preventDefault();\n};\n\nexport function useScrollLock(lock: boolean, options = { disableTouchEvents: false }) {\n  // value is stored to prevent body overflow styles override with initial useScrollLock(false)\n  const locked = useRef(false);\n\n  // after scroll is unlocked body overflow style returns to the previous known value\n  const bodyOverflow = useRef<React.CSSProperties['overflow']>(null);\n\n  const unlockScroll = () => {\n    if (locked.current) {\n      locked.current = false;\n      document.body.style.overflow = bodyOverflow.current || '';\n\n      if (options.disableTouchEvents) {\n        document.body.removeEventListener('touchmove', preventDefault);\n      }\n    }\n  };\n\n  const lockScroll = () => {\n    locked.current = true;\n    bodyOverflow.current = document.body.style.overflow;\n    document.body.style.overflow = 'hidden';\n\n    if (options.disableTouchEvents) {\n      document.body.addEventListener('touchmove', preventDefault, { passive: false });\n    }\n  };\n\n  useEffect(() => {\n    if (lock) {\n      lockScroll();\n    } else {\n      unlockScroll();\n    }\n\n    return unlockScroll;\n  }, [lock]);\n}\n"],"names":["useRef","useState","useCallback","__spreadProps","useLayoutEffect","useEffect"],"mappings":"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"}