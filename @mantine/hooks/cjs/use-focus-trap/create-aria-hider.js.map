{"version":3,"file":"create-aria-hider.js","sources":["../../src/use-focus-trap/create-aria-hider.ts"],"sourcesContent":["type Value = {\n  node: HTMLElement;\n  ariaHidden: string;\n};\n\nexport function createAriaHider(\n  containerNode: HTMLElement,\n  selector: string = 'body > :not(script)'\n) {\n  const rootNodes: Value[] = Array.from<HTMLElement>(document.querySelectorAll(selector)).map(\n    (node) => {\n      if (node.contains(containerNode)) {\n        return undefined;\n      }\n\n      const ariaHidden = node.getAttribute('aria-hidden');\n\n      if (ariaHidden === null || ariaHidden === 'false') {\n        node.setAttribute('aria-hidden', 'true');\n      }\n\n      return { node, ariaHidden };\n    }\n  );\n\n  return () => {\n    rootNodes.forEach((item) => {\n      if (!item) {\n        return;\n      }\n\n      if (item.ariaHidden === null) {\n        item.node.removeAttribute('aria-hidden');\n      } else {\n        item.node.setAttribute('aria-hidden', item.ariaHidden);\n      }\n    });\n  };\n}\n"],"names":[],"mappings":";;;;yBAME,eACA,WAAmB,uBACnB;AACA,QAAM,YAAqB,MAAM,KAAkB,SAAS,iBAAiB,WAAW,IACtF,CAAC,SAAS;AACR,QAAI,KAAK,SAAS,gBAAgB;AAChC,aAAO;AAAA;AAGT,UAAM,aAAa,KAAK,aAAa;AAErC,QAAI,eAAe,QAAQ,eAAe,SAAS;AACjD,WAAK,aAAa,eAAe;AAAA;AAGnC,WAAO,CAAE,MAAM;AAAA;AAInB,SAAO,MAAM;AACX,cAAU,QAAQ,CAAC,SAAS;AAC1B,UAAI,CAAC,MAAM;AACT;AAAA;AAGF,UAAI,KAAK,eAAe,MAAM;AAC5B,aAAK,KAAK,gBAAgB;AAAA,aACrB;AACL,aAAK,KAAK,aAAa,eAAe,KAAK;AAAA;AAAA;AAAA;AAAA;;;;"}